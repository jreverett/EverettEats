
@page "/"

<div class="hero-section">
	<div class="hero-content">
		<h1 class="hero-title">
			<span class="hero-icon">üçΩÔ∏è</span>
			Welcome to Everett Eats
		</h1>
		<p class="hero-subtitle">Discover delicious homemade recipes that bring families together</p>
	</div>
</div>

<div class="content-container">
	<div class="search-section">
		<div class="search-header">
			<h2 class="section-title">
				<i class="fas fa-search"></i>
				Find Your Perfect Recipe
			</h2>
			<p class="section-subtitle">Search through our collection of family-tested recipes</p>
		</div>
		
		<div class="search-controls">
			<div class="search-input-wrapper">
				<i class="fas fa-search search-icon"></i>
				<input @bind="searchTerm" @bind:event="oninput" placeholder="Search for recipes, ingredients, or cuisines..." class="search-input" />
				@if (!string.IsNullOrEmpty(searchTerm))
				{
					<button @onclick="ClearSearch" class="clear-search-btn">
						<i class="fas fa-times"></i>
					</button>
				}
			</div>
			
			<div class="filter-controls">
				<label class="page-size-label">
					<i class="fas fa-list"></i>
					<span>Show:</span>
					<select @bind="pageSize" class="page-size-select">
						@foreach (var size in pageSizeOptions)
						{
							<option value="@size">@size recipes</option>
						}
					</select>
				</label>
			</div>
		</div>
	</div>

	<div class="recipes-section">
		@if (recipes.Count == 0)
		{
			<div class="no-recipes">
				<i class="fas fa-utensils no-recipes-icon"></i>
				<h3 class="no-recipes-title">No recipes found</h3>
				<p class="no-recipes-text">
					@if (string.IsNullOrEmpty(searchTerm))
					{
						<span>We're cooking up something special! Check back soon for delicious recipes.</span>
					}
					else
					{
						<span>Try adjusting your search terms or browse all recipes.</span>
					}
				</p>
				@if (!string.IsNullOrEmpty(searchTerm))
				{
					<button @onclick="ClearSearch" class="clear-search-button">
						<i class="fas fa-refresh"></i>
						Show All Recipes
					</button>
				}
			</div>
		}
		else
		{
			<div class="recipes-header">
				<h2 class="recipes-title">
					<i class="fas fa-utensils"></i>
					Recipe Collection
				</h2>
				<div class="recipes-count">
					Showing @recipes.Count of @totalCount recipes
				</div>
			</div>
			
			<div class="recipe-grid">
				@foreach (var recipe in recipes)
				{
					<div class="recipe-card">
						<div class="recipe-image-container">
							@if (!string.IsNullOrWhiteSpace(recipe.ImageUrl))
							{
								<img src="@recipe.ImageUrl" alt="@recipe.Title" class="recipe-image" loading="lazy" />
							}
							else
							{
								<div class="recipe-image-placeholder">
									<i class="fas fa-utensils"></i>
								</div>
							}
							<div class="recipe-overlay">
								<button class="view-recipe-btn">
									<i class="fas fa-eye"></i>
									View Recipe
								</button>
							</div>
						</div>
						
						<div class="recipe-content">
							<h3 class="recipe-title">@recipe.Title</h3>
							<p class="recipe-description">@recipe.Description</p>
							
							<div class="recipe-meta">
								@if (!string.IsNullOrEmpty(recipe.CookTime))
								{
									<div class="recipe-meta-item">
										<i class="fas fa-clock"></i>
										<span>@recipe.CookTime</span>
									</div>
								}
								<div class="recipe-meta-item">
									<i class="fas fa-signal"></i>
									<span>@GetDifficultyText(recipe.Difficulty)</span>
								</div>
								<div class="recipe-meta-item">
									<i class="fas fa-tag"></i>
									<span>@GetCategoryText(recipe.Category)</span>
								</div>
							</div>
						</div>
					</div>
				}
			</div>
		}
	</div>

	@if (totalPages > 1)
	{
		<div class="pagination-section">
			<div class="pagination-controls">
				<button @onclick="PreviousPage" disabled="@(pageNumber == 1)" class="pagination-btn pagination-prev">
					<i class="fas fa-chevron-left"></i>
					Previous
				</button>
				
				<div class="pagination-info">
					<span class="current-page">@pageNumber</span>
					<span class="page-separator">of</span>
					<span class="total-pages">@totalPages</span>
				</div>
				
				<button @onclick="NextPage" disabled="@(pageNumber == totalPages)" class="pagination-btn pagination-next">
					Next
					<i class="fas fa-chevron-right"></i>
				</button>
			</div>
		</div>
	}
</div>

