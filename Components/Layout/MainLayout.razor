@namespace EverettEats.Components.Layout
@inherits LayoutComponentBase

<div class="notebook-layout">
    <header class="notebook-header">
        <div class="header-content">
            <a href="/" class="notebook-title">
                <span class="title-text">Everett's</span>
                <span class="title-subtitle">Recipe Notebook</span>
                <div class="coffee-ring coffee-ring-1"></div>
            </a>
            
            <nav class="notebook-tabs">
                <a href="/" class="tab-link @(GetActiveClass("/"))">
                    <span class="tab-icon">ğŸ </span>
                    <span class="tab-text">Home</span>
                </a>
                <a href="/recipes" class="tab-link @(GetActiveClass("/recipes"))">
                    <span class="tab-icon">ğŸ“–</span>
                    <span class="tab-text">All Recipes</span>
                </a>
                <a href="/favorites" class="tab-link @(GetActiveClass("/favorites"))">
                    <span class="tab-icon">â¤ï¸</span>
                    <span class="tab-text">Favorites</span>
                </a>
            </nav>
        </div>
    </header>

    <main class="notebook-pages">
        <div class="page-lines"></div>
        @Body
    </main>

    <footer class="notebook-footer">
        <p class="footer-note">Made with love (and flour-covered fingers) by the Everett family ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</p>
    </footer>
</div>

@code {
    [Inject] NavigationManager Navigation { get; set; } = default!;
    
    private string GetActiveClass(string path)
    {
        var currentPath = Navigation.Uri.Replace(Navigation.BaseUri, "/");
        return currentPath.StartsWith(path) && (path != "/" || currentPath == "/") ? "active" : "";
    }
}
