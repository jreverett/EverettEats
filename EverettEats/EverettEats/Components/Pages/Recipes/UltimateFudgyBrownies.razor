@page "/recipe/ultimate-fudgy-brownies"
@rendermode RenderMode.InteractiveServer
@inject IJSRuntime JSRuntime

<PageTitle>Ultimate Fudgy Brownies - Everett Eats</PageTitle>
<meta name="description" content="Super rich, moist brownies with the perfect fudgy texture. These brownies are dense, chocolatey, and absolutely irresistible." />
<meta property="og:title" content="Ultimate Fudgy Brownies" />
<meta property="og:description" content="Super rich, moist brownies with the perfect fudgy texture. These brownies are dense, chocolatey, and absolutely irresistible." />
<meta property="og:image" content="https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=800&h=600&fit=crop" />
<meta property="og:type" content="article" />

<div class="recipe-detail">
    <div class="recipe-header">
        <a href="/" class="back-btn">← Back to Recipes</a>        <div class="recipe-actions">
            <button class="share-btn" @onclick="ShareRecipe">
                Share Recipe
            </button>
        </div>
    </div>

    <div class="recipe-content">
        <div class="recipe-info">
            <h1 class="recipe-title">Ultimate Fudgy Brownies</h1>
            <p class="recipe-description">
                Super rich, moist brownies with the perfect fudgy texture. These brownies are dense, chocolatey,
                and absolutely irresistible. Perfect for dinner parties, potlucks, or when you need a chocolate fix!
            </p>

            <div class="recipe-meta">
                <div class="meta-item">
                    <span class="meta-label">Prep Time:</span>
                    <span>15 minutes</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Cook Time:</span>
                    <span>25-30 minutes</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Total Time:</span>
                    <span>1 hour 15 minutes (includes cooling)</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Servings:</span>
                    <span>16 brownies</span>
                </div>
            </div>

            <div class="recipe-tags">
                <span class="tag">chocolate</span>
                <span class="tag">fudgy</span>
                <span class="tag">easy</span>
                <span class="tag">crowd-pleaser</span>
                <span class="tag">dessert</span>
            </div>
        </div>

        <div class="recipe-image">
            <img src="https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=600&h=400&fit=crop"
                 alt="Ultimate Fudgy Brownies" />
        </div>
    </div>

    <div class="recipe-sections">
        <div class="ingredients-section">
            <h2>Ingredients</h2>
            <ul class="ingredients-list">
                <li>1 cup (226g) unsalted butter</li>
                <li>2 tablespoons vegetable oil</li>
                <li>1 1/2 cups (300g) granulated sugar</li>
                <li>2 whole eggs + 1 egg yolk, room temperature</li>
                <li>1 1/2 teaspoons vanilla extract</li>
                <li>3/4 cup (64g) unsweetened cocoa powder</li>
                <li>1/2 cup (63g) all-purpose flour</li>
                <li>1/4 teaspoon salt</li>
                <li>3/4 cup (128g) chocolate, chopped (or chips)</li>
                <li><strong>Optional:</strong> 1/4 cup chocolate syrup OR 2 tablespoons corn syrup</li>
            </ul>
        </div>

        <div class="instructions-section">
            <h2>Instructions</h2>
            <ol class="instructions-list">
                <li>
                    <strong>Prep:</strong> Preheat oven to 350°F (175°C). Line 8x8 pan with parchment, leaving overhang for easy removal.
                </li>
                <li>
                    <strong>Melt:</strong> Microwave butter in 30-second intervals until melted. Immediately stir in oil and sugar. Let cool 5 minutes.
                </li>
                <li>
                    <strong>Mix Wet:</strong> Beat in 2 eggs + 1 yolk one at a time, then vanilla (and chocolate/corn syrup if using). Mix until just combined.
                </li>
                <li>
                    <strong>Add Dry:</strong> Sift cocoa powder, flour, and salt directly over wet ingredients. Fold gently until just combined - DO NOT OVERMIX. Fold in chopped chocolate.
                </li>
                <li>
                    <strong>Optional but recommended:</strong> Refrigerate batter 15 minutes for extra fudgy texture.
                </li>
                <li>
                    <strong>Bake:</strong> Pour into pan. Bake 25-30 minutes. The top should be set but still glossy. A toothpick should come out with moist crumbs, not clean.
                </li>
                <li>
                    <strong>Cool:</strong> Let cool in pan 30 minutes, then refrigerate for at least 1 hour before cutting for best results.
                </li>
            </ol>
        </div>

        <div class="tips-section">
            <h2>Pro Tips</h2>
            <ul class="tips-list">
                <li><strong>Don't Overmix:</strong> For extra fudgy brownies, don't overmix the batter once you add the flour</li>
                <li><strong>Perfect Doneness:</strong> The slight sinking in the middle is normal and indicates fudgy texture</li>
                <li><strong>Clean Cuts:</strong> Use a sharp knife and clean between cuts for neat squares</li>
                <li><strong>Storage:</strong> Store in an airtight container at room temperature for up to 5 days</li>
                <li><strong>Moisture Tip:</strong> Add a piece of bread to the container to maintain moisture if they start to dry out</li>
                <li><strong>Different Pan Size:</strong> For 24cm x 14cm pan: Use same recipe but bake 2-3 minutes longer as brownies will be slightly thicker</li>
                <li><strong>Quick Cooling:</strong> Freezer method - Cool 10-15 mins at room temp, then 15 mins in freezer for faster results</li>
                <li><strong>Test for Doneness:</strong> Perfect brownies have a toothpick with moist crumbs (like in your photo!) - not completely clean</li>
            </ul>
        </div>
    </div>

    <div class="recipe-footer">
        <p>Recipe perfected on May 17, 2025</p>
    </div>
</div>

@code {
    private async Task ShareRecipe()
    {
        var url = $"{await JSRuntime.InvokeAsync<string>("eval", "window.location.origin")}/recipe/ultimate-fudgy-brownies";
        var title = "Ultimate Fudgy Brownies - Everett Eats";
        var text = "Check out this delicious Ultimate Fudgy Brownies recipe! Super rich, moist brownies with the perfect fudgy texture.";

        await JSRuntime.InvokeVoidAsync("EverettEats.shareRecipe", title, text, url);
    }
}